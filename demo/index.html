<!Doctype html>
<head>
<meta http-equiv=Content-Type content="text/html;charset=utf-8">
<meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
<!-- <meta content=always name=referrer> -->
<link rel="shortcut icon" href=/favicon.ico type=image/x-icon> <title>H.265在线播放器DEMO</title>
<link rel="stylesheet" href="../dist/goldplay-h265.css">
<script src="../dist/goldplay-h265-sdk.js"></script>
<style>
  .play-container {
    width: 800px;
    height: 600px;
    /* background-color: #000; */
    margin: 20px 0 0 100px;
    float:left;
  }

  .inline {
    display: inline-block;
    width: 50px;
  }
</style>
</head>

<body>
  <div id="PlayerWrapper">
    <h3>H.265 Player <b>在线播放器Demo1</b><em class="demo1" id="Demo1">DEMO</em></h3>
    <div class="play-container"></div>
    <!-- <input type="button" id="change" value=change/> -->
    <!-- <a href="http://www.baidu.com">baidu.com</a> -->
  </div>
  <br clear="all">
  <br>
  <script>
    // https://lf3-record-tos.bytefcdn.com/obj/fcdn-dy/0784073508702545471/push-rtmp-hs-f5.douyincdn.com_stage_stream-113334995111641770_1688823036_1688828468_record.m3u8?psm=ad.platform.live_console

    //播放器容器
    let el = document.querySelector('.play-container')
    //播放器参数
    let options = {
        // 视频播放地址
        // sourceURL: 'https://lf3-record-tos.bytefcdn.com/obj/fcdn-dy/0784073508702545471/push-rtmp-hs-f5.douyincdn.com_stage_stream-113334995111641770_1688823036_1688828468_record.m3u8?psm=ad.platform.live_console',
        sourceURL: "https://lr3.douyincdn.com/record/stage/stream-113325687511187538/auto_merge_2023-07-07-06-59-13_2023-07-07-08-32-06.m3u8?psm=ad.platform.live_console",
        type: 'HLS',
        // wasm库地址
        libPath: 'http://localhost:9000/dist/lib/',
        autoPlay: false,
        maxBufferLength: 1000*30,
        defaultRate: {"url":"http://localhost/20190902/f0/db/ee545466ced38973a9d60fe7f24ed409.m3u8","id":51,"name":"高清","value":"600"},
    }
    let player = new GoldPlay(el, options)
  </script>
  <!-- <script>
    (function (win, doc) {
      const Config = {
        get basePath() {
          let path = win.location.origin
          let pathname = win.location.pathname
          let demoIdx = pathname.lastIndexOf('/demo/')
          return path + pathname.substr(0, demoIdx)
        },
        get buildPath() {
          return this.basePath + '/dist/'
        },
        get libPath() {
          return this.buildPath + 'lib/'
        },
        get src() {
          return this.basePath + '/data/video2/playlist.m3u8'
        }
      }
      let el = doc.querySelector('.play-container')
      let player = new GoldPlay(el, {
        poster: 'http://lf3-static.bytednsdoc.com/obj/eden-cn/nupenuvpxnuvo/xgplayer_doc/poster.jpg',
        // sourceURL: Config.src,
        sourceURL: 'https://lr3.douyincdn.com/record/stage/stream-401562629930221650/auto_merge_2023-07-08-10-09-54_2023-07-08-11-13-38.m3u8?psm=ad.platform.live_console',
        type: 'HLS',
        libPath: Config.libPath,
        playBackRate: 1,
        autoPlay: false,
        // debug: true,
        rateList: [
          {"url":"http://localhost:9011/gitwork/goldplay/h265player/data/video1/playlist.m3u8","id":51,"name":"720P","value":"720"},
           {"url":"http://localhost:9011/gitwork/goldplay/h265player/data/video3/playlist.m3u8","id":51,"name":"高清","value":"600"}
        ]
      })
      document.querySelector('#change').onclick = function(){
        player.changeSrc('http://localhost:9011/gitwork/goldplay/h265player/data/video1/playlist.m3u8')
      }
      // player.destroy()
    })(window, document)
  </script> -->
</body>

</html>
